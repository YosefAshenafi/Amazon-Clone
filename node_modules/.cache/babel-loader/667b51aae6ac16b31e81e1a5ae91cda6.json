{"ast":null,"code":"var _jsxFileName = \"D:\\\\Project\\\\Personal\\\\React\\\\amazon\\\\src\\\\Orders.js\";\nimport React, { useEffect, useState } from \"react\";\nimport \"./Orders.css\";\nimport { useStateValue } from \"./StateProvider\";\nimport { db } from \"./firebase\";\nimport Order from \"./Order\";\n\nfunction Orders() {\n  const [orders, setOrders] = useState([]);\n  const [{\n    basket,\n    user\n  }, dispatch] = useStateValue();\n  useEffect(() => {\n    if (user) {\n      db.collection(\"users\").doc(user === null || user === void 0 ? void 0 : user.uid).collection(\"orders\").orderBy(\"created\", \"desc\").onSnapshot(snapshot => {\n        setOrders(snapshot.docs.map(doc => ({\n          data: doc.data()\n        })));\n      });\n    } else {\n      setOrders([]);\n    }\n  }, [user]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"orders\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, \"Your Orders\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"orders__order\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, orders === null || orders === void 0 ? void 0 : orders.map(order => /*#__PURE__*/React.createElement(Order, {\n    order: order,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 11\n    }\n  }))));\n}\n\nexport default Orders;","map":{"version":3,"sources":["D:/Project/Personal/React/amazon/src/Orders.js"],"names":["React","useEffect","useState","useStateValue","db","Order","Orders","orders","setOrders","basket","user","dispatch","collection","doc","uid","orderBy","onSnapshot","snapshot","docs","map","data","order"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAO,cAAP;AACA,SAASC,aAAT,QAA8B,iBAA9B;AACA,SAASC,EAAT,QAAmB,YAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;;AAEA,SAASC,MAAT,GAAkB;AAChB,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBN,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAAC;AAAEO,IAAAA,MAAF;AAAUC,IAAAA;AAAV,GAAD,EAAmBC,QAAnB,IAA+BR,aAAa,EAAlD;AAEAF,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIS,IAAJ,EAAU;AACRN,MAAAA,EAAE,CAACQ,UAAH,CAAc,OAAd,EACGC,GADH,CACOH,IADP,aACOA,IADP,uBACOA,IAAI,CAAEI,GADb,EAEGF,UAFH,CAEc,QAFd,EAGGG,OAHH,CAGW,SAHX,EAGsB,MAHtB,EAIGC,UAJH,CAIeC,QAAD,IAAc;AACxBT,QAAAA,SAAS,CACPS,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAmBN,GAAD,KAAU;AAC1BO,UAAAA,IAAI,EAAEP,GAAG,CAACO,IAAJ;AADoB,SAAV,CAAlB,CADO,CAAT;AAKD,OAVH;AAWD,KAZD,MAYO;AACLZ,MAAAA,SAAS,CAAC,EAAD,CAAT;AACD;AACF,GAhBQ,EAgBN,CAACE,IAAD,CAhBM,CAAT;AAkBA,sBACE;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,eAGE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGH,MADH,aACGA,MADH,uBACGA,MAAM,CAAEY,GAAR,CAAaE,KAAD,iBACX,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAEA,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADH,CAHF,CADF;AAWD;;AAED,eAAef,MAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./Orders.css\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { db } from \"./firebase\";\r\nimport Order from \"./Order\";\r\n\r\nfunction Orders() {\r\n  const [orders, setOrders] = useState([]);\r\n  const [{ basket, user }, dispatch] = useStateValue();\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      db.collection(\"users\")\r\n        .doc(user?.uid)\r\n        .collection(\"orders\")\r\n        .orderBy(\"created\", \"desc\")\r\n        .onSnapshot((snapshot) => {\r\n          setOrders(\r\n            snapshot.docs.map((doc) => ({\r\n              data: doc.data(),\r\n            }))\r\n          );\r\n        });\r\n    } else {\r\n      setOrders([]);\r\n    }\r\n  }, [user]);\r\n\r\n  return (\r\n    <div className=\"orders\">\r\n      <h1>Your Orders</h1>\r\n\r\n      <div className=\"orders__order\">\r\n        {orders?.map((order) => (\r\n          <Order order={order} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Orders;\r\n"]},"metadata":{},"sourceType":"module"}